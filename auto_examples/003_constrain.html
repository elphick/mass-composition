<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Constrain &mdash; mass-composition  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Plot Demo" href="004_plot_demo.html" />
    <link rel="prev" title="Datasets and Sample Data" href="002_data_examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            mass-composition
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/user_guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Example Gallery</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="001_basic_usage.html">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="002_data_examples.html">Datasets and Sample Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Constrain</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-masscomposition-object">Create a MassComposition object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constraining-by-clip">Constraining by Clip</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constraining-relative-to-another-object">Constraining Relative to Another Object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="004_plot_demo.html">Plot Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="104_math_operations.html">Math Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="105_create_network.html">Create Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="106_network_basics.html">Network Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="107_filtering.html">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="108_sankey_plots.html">Sankey Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="109_split_and_partition.html">Splitting and Partitioning Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="110_network_layouts.html">Network Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="111_constraints_and_status.html">Constraints and Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="112_compare.html">Compare</a></li>
<li class="toctree-l2"><a class="reference internal" href="113_partition_models.html">Partition Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="114_compare_partitions.html">Compare Partition Separations</a></li>
<li class="toctree-l2"><a class="reference internal" href="115_simplify_network.html">Simplify a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="200_interval_data.html">Interval Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="201_incremental_separation.html">Incremental Separation</a></li>
<li class="toctree-l2"><a class="reference internal" href="202_interval_data_advanced.html">Interval Data - Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="300_interval_data_sink_float.html">Interval Data - Sink Float</a></li>
<li class="toctree-l2"><a class="reference internal" href="400_mass_balancing.html">Mass Balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="502_dag.html">DAG to Define and Simulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="503_dag_with_partitions.html">DAG with Partitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="504_dag_with_estimator.html">DAG with Estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="_501_simulating_networks.html">Simulating a Network in Parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="_simulating_network_functions.html">Network Simulation Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="grade_tonnage.html">Grade Tonnage</a></li>
<li class="toctree-l2"><a class="reference internal" href="iron_ore_assays.html">Iron Ore Assays</a></li>
<li class="toctree-l2"><a class="reference internal" href="resampling_interval_data.html">Resampling Interval Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#xarray-gallery">Xarray Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mass-composition</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Example Gallery</a></li>
      <li class="breadcrumb-item active">Constrain</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto_examples/003_constrain.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-003-constrain-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="constrain">
<span id="sphx-glr-auto-examples-003-constrain-py"></span><h1>Constrain<a class="headerlink" href="#constrain" title="Permalink to this heading"></a></h1>
<p>A simple example that demonstrates the constrain method of mass-composition.</p>
<p>It is possible that a MassComposition object is created from a Machine Learning Model estimation.
If either the ML model is over-fitted, or the features supplied to create the estimation are out of range,
improbable results can be generated. The constrain method will provide a way to manage these outliers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">elphick.mass_composition</span> <span class="kn">import</span> <span class="n">MassComposition</span>
<span class="kn">from</span> <span class="nn">elphick.mass_composition.datasets.sample_data</span> <span class="kn">import</span> <span class="n">sample_data</span>
</pre></div>
</div>
<section id="create-a-masscomposition-object">
<h2>Create a MassComposition object<a class="headerlink" href="#create-a-masscomposition-object" title="Permalink to this heading"></a></h2>
<p>We get some demo data in the form of a pandas DataFrame</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">()</span>
<span class="n">df_data</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>wet_mass</th>
      <th>mass_dry</th>
      <th>FE</th>
      <th>SIO2</th>
      <th>al2o3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>57.0</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90.0</td>
      <td>80.0</td>
      <td>59.0</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>110.0</td>
      <td>90.0</td>
      <td>61.0</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p>Construct a MassComposition object</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_mc</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">MassComposition</span><span class="p">(</span><span class="n">df_data</span><span class="p">)</span>
<span class="n">obj_mc</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>10.000000</td>
      <td>57.0</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90.0</td>
      <td>80.0</td>
      <td>11.111111</td>
      <td>59.0</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>110.0</td>
      <td>90.0</td>
      <td>18.181818</td>
      <td>61.0</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /></section>
<section id="constraining-by-clip">
<h2>Constraining by Clip<a class="headerlink" href="#constraining-by-clip" title="Permalink to this heading"></a></h2>
<p>Constraining by clip simpy clips the mass or composition values.  The simplest way to constrain is with
a tuple of the limits.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_1</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">obj_mc</span><span class="o">.</span><span class="n">constrain</span><span class="p">(</span><span class="n">clip_mass</span><span class="o">=</span><span class="p">(</span><span class="mi">85</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">obj_1</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>10.000000</td>
      <td>57.0</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90.0</td>
      <td>85.0</td>
      <td>5.555556</td>
      <td>59.0</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>10.000000</td>
      <td>61.0</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p>Notice that the mass has been constrained for some records and the H2O has been modified accordingly.</p>
<p>More granularity is possible by passing a dict[variable: tuple_of_limits]</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_2</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">obj_mc</span><span class="o">.</span><span class="n">constrain</span><span class="p">(</span><span class="n">clip_mass</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mass_wet&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)})</span>
<span class="n">obj_2</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>10.000000</td>
      <td>57.0</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90.0</td>
      <td>80.0</td>
      <td>11.111111</td>
      <td>59.0</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>10.000000</td>
      <td>61.0</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /></section>
<section id="constraining-relative-to-another-object">
<h2>Constraining Relative to Another Object<a class="headerlink" href="#constraining-relative-to-another-object" title="Permalink to this heading"></a></h2>
<p>Sometimes constraining relative to another object is useful.  This can be described as “constraining by recovery”.
The object is converted to absolute mass (where components are converted to mass units) and divided by the
reference (other) object, also converted to mass units.  In mineral processing, this is known as recovery.</p>
<p>First we’ll make another object to act as our reference.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_other</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">obj_mc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">obj_mc</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;feed&#39;</span><span class="p">)</span>

<span class="n">obj_3</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">obj_mc</span><span class="o">.</span><span class="n">constrain</span><span class="p">(</span><span class="n">relative_mass</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">other</span><span class="o">=</span><span class="n">obj_other</span><span class="p">)</span>
<span class="n">obj_3</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20.0</td>
      <td>18.0</td>
      <td>10.000000</td>
      <td>57.0</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>18.0</td>
      <td>16.0</td>
      <td>11.111111</td>
      <td>59.0</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>22.0</td>
      <td>18.0</td>
      <td>18.181818</td>
      <td>61.0</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p>Here we constrain Fe to 10% recovery of 2 x the original object…</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_4</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">obj_mc</span><span class="o">.</span><span class="n">constrain</span><span class="p">(</span><span class="n">relative_composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Fe&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)},</span> <span class="n">other</span><span class="o">=</span><span class="n">obj_other</span><span class="p">)</span>
<span class="n">obj_4</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>10.000000</td>
      <td>11.4</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90.0</td>
      <td>80.0</td>
      <td>11.111111</td>
      <td>11.8</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>110.0</td>
      <td>90.0</td>
      <td>18.181818</td>
      <td>12.2</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p>Arguments can be combined to perform multiple constraints in one call.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obj_5</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">obj_mc</span><span class="o">.</span><span class="n">constrain</span><span class="p">(</span><span class="n">clip_mass</span><span class="o">=</span><span class="p">(</span><span class="mi">85</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
                                          <span class="n">relative_composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Fe&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)},</span> <span class="n">other</span><span class="o">=</span><span class="n">obj_other</span><span class="p">)</span>
<span class="n">obj_5</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mass_wet</th>
      <th>mass_dry</th>
      <th>H2O</th>
      <th>Fe</th>
      <th>SiO2</th>
      <th>Al2O3</th>
      <th>LOI</th>
      <th>group</th>
    </tr>
    <tr>
      <th>index</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>100.0</td>
      <td>90.0</td>
      <td>10.000000</td>
      <td>11.4</td>
      <td>5.2</td>
      <td>3.0</td>
      <td>5.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>90.0</td>
      <td>80.0</td>
      <td>11.111111</td>
      <td>11.8</td>
      <td>3.1</td>
      <td>1.7</td>
      <td>4.0</td>
      <td>grp_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>110.0</td>
      <td>90.0</td>
      <td>18.181818</td>
      <td>12.2</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>3.0</td>
      <td>grp_2</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.260 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-003-constrain-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/34a698691484fa11964547fbb523023a/003_constrain.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">003_constrain.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/696547a416e407b19b019297b74bd1d8/003_constrain.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">003_constrain.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="002_data_examples.html" class="btn btn-neutral float-left" title="Datasets and Sample Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="004_plot_demo.html" class="btn btn-neutral float-right" title="Plot Demo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Greg Elphick.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>