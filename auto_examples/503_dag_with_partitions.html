<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DAG with Partitions &mdash; mass-composition  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DAG with Estimator" href="504_dag_with_estimator.html" />
    <link rel="prev" title="DAG to Define and Simulate" href="502_dag.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            mass-composition
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/user_guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Example Gallery</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="001_basic_usage.html">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="002_data_examples.html">Datasets and Sample Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="003_constrain.html">Constrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="004_plot_demo.html">Plot Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="104_math_operations.html">Math Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="105_create_network.html">Create Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="106_network_basics.html">Network Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="107_filtering.html">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="108_sankey_plots.html">Sankey Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="109_split_and_partition.html">Splitting and Partitioning Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="110_network_layouts.html">Network Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="111_constraints_and_status.html">Constraints and Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="112_compare.html">Compare</a></li>
<li class="toctree-l2"><a class="reference internal" href="113_partition_models.html">Partition Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="114_compare_partitions.html">Compare Partition Separations</a></li>
<li class="toctree-l2"><a class="reference internal" href="115_simplify_network.html">Simplify a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="200_interval_data.html">Interval Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="201_incremental_separation.html">Incremental Separation</a></li>
<li class="toctree-l2"><a class="reference internal" href="202_interval_data_advanced.html">Interval Data - Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="300_interval_data_sink_float.html">Interval Data - Sink Float</a></li>
<li class="toctree-l2"><a class="reference internal" href="400_mass_balancing.html">Mass Balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="502_dag.html">DAG to Define and Simulate</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">DAG with Partitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#define-the-partitions">Define the Partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#define-the-dag">Define the DAG</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-dag">Run the DAG</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="504_dag_with_estimator.html">DAG with Estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="_501_simulating_networks.html">Simulating a Network in Parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="_simulating_network_functions.html">Network Simulation Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="grade_tonnage.html">Grade Tonnage</a></li>
<li class="toctree-l2"><a class="reference internal" href="iron_ore_assays.html">Iron Ore Assays</a></li>
<li class="toctree-l2"><a class="reference internal" href="resampling_interval_data.html">Resampling Interval Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#xarray-gallery">Xarray Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mass-composition</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Example Gallery</a></li>
      <li class="breadcrumb-item active">DAG with Partitions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto_examples/503_dag_with_partitions.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-503-dag-with-partitions-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="dag-with-partitions">
<span id="sphx-glr-auto-examples-503-dag-with-partitions-py"></span><h1>DAG with Partitions<a class="headerlink" href="#dag-with-partitions" title="Permalink to this heading"></a></h1>
<p>In the context of this script, partitions are used to divide the data into different segments based on certain
criteria. These partitions are defined using the napier_munn function, which is partially applied to set the d50
and ep parameters. The dim argument is used to select the dimension to partition on.</p>
<p>The partitions are then used in the Directed Acyclic Graph (DAG) to define the relationships between streams
resulting from transformations (operations) on the streams.</p>
<p>Each node in the DAG represents an operation on one or more streams, and the edges represent the flow of data
from one operation to the next.  The DAG, along with the defined partitions, can be used to simulate
the network of operations and produce the final results. This approach allows for the management of
complex relationships between streams in stream operations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="kn">import</span> <span class="nn">plotly</span>

<span class="kn">from</span> <span class="nn">elphick.mass_composition</span> <span class="kn">import</span> <span class="n">MassComposition</span><span class="p">,</span> <span class="n">Stream</span>
<span class="kn">from</span> <span class="nn">elphick.mass_composition.dag</span> <span class="kn">import</span> <span class="n">DAG</span>
<span class="kn">from</span> <span class="nn">elphick.mass_composition.datasets.sample_data</span> <span class="kn">import</span> <span class="n">size_by_assay</span>
<span class="kn">from</span> <span class="nn">elphick.mass_composition.flowsheet</span> <span class="kn">import</span> <span class="n">Flowsheet</span>
<span class="kn">from</span> <span class="nn">elphick.mass_composition.utils.partition</span> <span class="kn">import</span> <span class="n">napier_munn</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(name)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<section id="define-the-partitions">
<h2>Define the Partitions<a class="headerlink" href="#define-the-partitions" title="Permalink to this heading"></a></h2>
<p>These partitions are defined in the <cite>napier_munn</cite> function.  The function is partially applied to set the d50 and ep.
The <cite>dim</cite> argument is used to select the dimension to partition on.
These have no basis in reality and are for illustrative purposes only.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">part_screen</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">napier_munn</span><span class="p">,</span> <span class="n">d50</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ep</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s1">&#39;size&#39;</span><span class="p">)</span>
<span class="n">part_rgr_cyclone</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">napier_munn</span><span class="p">,</span> <span class="n">d50</span><span class="o">=</span><span class="mf">0.045</span><span class="p">,</span> <span class="n">ep</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s1">&#39;size&#39;</span><span class="p">)</span>
<span class="n">part_clr_cyclone</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">napier_munn</span><span class="p">,</span> <span class="n">d50</span><span class="o">=</span><span class="mf">0.038</span><span class="p">,</span> <span class="n">ep</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s1">&#39;size&#39;</span><span class="p">)</span>
<span class="n">part_scav_cyclone</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">napier_munn</span><span class="p">,</span> <span class="n">d50</span><span class="o">=</span><span class="mf">0.045</span><span class="p">,</span> <span class="n">ep</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s1">&#39;size&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="define-the-dag">
<h2>Define the DAG<a class="headerlink" href="#define-the-dag" title="Permalink to this heading"></a></h2>
<p>The DAG is defined by adding nodes to the graph.  Each node is an input, output or Stream operation
(e.g. add, split, etc.).  The nodes are connected by the streams they operate on.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mc_sample</span><span class="p">:</span> <span class="n">MassComposition</span> <span class="o">=</span> <span class="n">MassComposition</span><span class="p">(</span><span class="n">size_by_assay</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sample&#39;</span><span class="p">)</span>

<span class="n">dag</span> <span class="o">=</span> <span class="n">DAG</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;feed&#39;</span><span class="p">)</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_step</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;screen&#39;</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">Stream</span><span class="o">.</span><span class="n">split_by_partition</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;feed&#39;</span><span class="p">],</span>
             <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;partition_definition&#39;</span><span class="p">:</span> <span class="n">part_screen</span><span class="p">,</span> <span class="s1">&#39;name_1&#39;</span><span class="p">:</span> <span class="s1">&#39;oversize&#39;</span><span class="p">,</span> <span class="s1">&#39;name_2&#39;</span><span class="p">:</span> <span class="s1">&#39;undersize&#39;</span><span class="p">})</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_step</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;rougher&#39;</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">Stream</span><span class="o">.</span><span class="n">split_by_partition</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;undersize&#39;</span><span class="p">],</span>
             <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;partition_definition&#39;</span><span class="p">:</span> <span class="n">part_rgr_cyclone</span><span class="p">,</span> <span class="s1">&#39;name_1&#39;</span><span class="p">:</span> <span class="s1">&#39;rgr_uf&#39;</span><span class="p">,</span> <span class="s1">&#39;name_2&#39;</span><span class="p">:</span> <span class="s1">&#39;rgr_of&#39;</span><span class="p">})</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_step</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;cleaner&#39;</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">Stream</span><span class="o">.</span><span class="n">split_by_partition</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rgr_uf&#39;</span><span class="p">],</span>
             <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;partition_definition&#39;</span><span class="p">:</span> <span class="n">part_clr_cyclone</span><span class="p">,</span> <span class="s1">&#39;name_1&#39;</span><span class="p">:</span> <span class="s1">&#39;clr_uf&#39;</span><span class="p">,</span> <span class="s1">&#39;name_2&#39;</span><span class="p">:</span> <span class="s1">&#39;clr_of&#39;</span><span class="p">})</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_step</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;scavenger&#39;</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">Stream</span><span class="o">.</span><span class="n">split_by_partition</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rgr_of&#39;</span><span class="p">],</span>
             <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;partition_definition&#39;</span><span class="p">:</span> <span class="n">part_scav_cyclone</span><span class="p">,</span> <span class="s1">&#39;name_1&#39;</span><span class="p">:</span> <span class="s1">&#39;scav_uf&#39;</span><span class="p">,</span> <span class="s1">&#39;name_2&#39;</span><span class="p">:</span> <span class="s1">&#39;scav_of&#39;</span><span class="p">})</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_step</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;overflow&#39;</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">Stream</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;scav_of&#39;</span><span class="p">,</span> <span class="s1">&#39;clr_of&#39;</span><span class="p">],</span>
             <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;tailings&#39;</span><span class="p">})</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_step</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;joiner&#39;</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="n">Stream</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;oversize&#39;</span><span class="p">,</span> <span class="s1">&#39;clr_uf&#39;</span><span class="p">,</span> <span class="s1">&#39;scav_uf&#39;</span><span class="p">],</span>
             <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;product&#39;</span><span class="p">})</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;reject&#39;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="s1">&#39;tailings&#39;</span><span class="p">)</span>
<span class="n">dag</span><span class="o">.</span><span class="n">add_output</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="s1">&#39;product&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;elphick.mass_composition.dag.DAG object at 0x7f3958962200&gt;
</pre></div>
</div>
</section>
<section id="run-the-dag">
<h2>Run the DAG<a class="headerlink" href="#run-the-dag" title="Permalink to this heading"></a></h2>
<p>The dag is run by providing MassComposition (or Stream) objects for all inputs.  They must be compatible i.e. have the
same indexes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dag</span><span class="o">.</span><span class="n">run</span><span class="p">({</span><span class="s1">&#39;feed&#39;</span><span class="p">:</span> <span class="n">mc_sample</span><span class="p">},</span> <span class="n">progress_bar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Executing nodes:   0%|          | 0/9 [00:00&lt;?, ?node/s]
Executing nodes:   0%|          | 0/9 [00:00&lt;?, ?node/s, Processed node: feed]
Executing nodes:  11%|#1        | 1/9 [00:00&lt;00:01,  7.15node/s, Processed node: screen]
Executing nodes:  22%|##2       | 2/9 [00:00&lt;00:00, 14.28node/s, Processed node: screen]
Executing nodes:  22%|##2       | 2/9 [00:00&lt;00:00, 14.28node/s, Processed node: rougher]
Executing nodes:  33%|###3      | 3/9 [00:00&lt;00:00, 14.28node/s, Processed node: cleaner]
Executing nodes:  44%|####4     | 4/9 [00:00&lt;00:00,  8.48node/s, Processed node: cleaner]
Executing nodes:  44%|####4     | 4/9 [00:00&lt;00:00,  8.48node/s, Processed node: scavenger]
Executing nodes:  56%|#####5    | 5/9 [00:00&lt;00:00,  8.48node/s, Processed node: overflow]
Executing nodes:  67%|######6   | 6/9 [00:00&lt;00:00,  8.06node/s, Processed node: overflow]
Executing nodes:  67%|######6   | 6/9 [00:00&lt;00:00,  8.06node/s, Processed node: joiner]
Executing nodes:  78%|#######7  | 7/9 [00:00&lt;00:00,  8.06node/s, Processed node: reject]
Executing nodes:  89%|########8 | 8/9 [00:00&lt;00:00,  8.06node/s, Processed node: product]
Executing nodes: 100%|##########| 9/9 [00:00&lt;00:00, 12.75node/s, Processed node: product]
</pre></div>
</div>
<p>Create a Flowsheet object from the dag, enabling all the usual network plotting and analysis methods.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fs</span><span class="p">:</span> <span class="n">Flowsheet</span> <span class="o">=</span> <span class="n">Flowsheet</span><span class="o">.</span><span class="n">from_dag</span><span class="p">(</span><span class="n">dag</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">plot_network</span><span class="p">()</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="db668e52-49f2-458b-8dab-db1d35e45511" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("db668e52-49f2-458b-8dab-db1d35e45511")) {                    Plotly.newPlot(                        "db668e52-49f2-458b-8dab-db1d35e45511",                        [{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"sample","x":[-1.0,-0.6086956521739131],"y":[0.0,0.0],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"undersize","x":[-0.6086956521739131,-0.2173913043478261],"y":[0.0,0.1956521739130435],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"oversize","x":[-0.6086956521739131,-0.2173913043478261],"y":[0.0,-0.1956521739130435],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"rgr_uf","x":[-0.2173913043478261,0.17391304347826086],"y":[0.1956521739130435,0.391304347826087],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"rgr_of","x":[-0.2173913043478261,0.17391304347826086],"y":[0.1956521739130435,0.0],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"clr_of","x":[0.17391304347826086,0.5652173913043479],"y":[0.391304347826087,0.0],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"clr_uf","x":[0.17391304347826086,-0.2173913043478261],"y":[0.391304347826087,-0.1956521739130435],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"scav_of","x":[0.17391304347826086,0.5652173913043479],"y":[0.0,0.0],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"scav_uf","x":[0.17391304347826086,-0.2173913043478261],"y":[0.0,-0.1956521739130435],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"tailings","x":[0.5652173913043479,0.9565217391304349],"y":[0.0,0.0],"type":"scatter"},{"hoverinfo":"text","line":{"color":"grey","width":2},"marker":{"angleref":"previous","color":"grey","size":16,"standoff":15,"symbol":"arrow"},"mode":"lines+markers","text":"product","x":[-0.2173913043478261,0.17391304347826086],"y":[-0.1956521739130435,-0.391304347826087],"type":"scatter"},{"hoverinfo":"none","marker":{"color":["grey","green","green","green","green","green","green","grey","grey"],"line":{"width":2},"size":30},"mode":"markers+text","text":["feed","screen","rougher","cleaner","scavenger","overflow","joiner","reject","product"],"x":[-1.0,-0.6086956521739131,-0.2173913043478261,0.17391304347826086,0.17391304347826086,0.5652173913043479,-0.2173913043478261,0.9565217391304349,0.17391304347826086],"y":[0.0,0.0,0.1956521739130435,0.391304347826087,0.0,0.0,-0.1956521739130435,0.0,-0.391304347826087],"type":"scatter"},{"hoverinfo":"text","marker":{"color":"grey","line":{"width":1},"size":3},"mode":"markers","text":["sample","undersize","oversize","rgr_uf","rgr_of","clr_of","clr_uf","scav_of","scav_uf","tailings","product"],"x":[-0.8043478260869565,-0.4130434782608696,-0.4130434782608696,-0.021739130434782622,-0.021739130434782622,0.3695652173913044,-0.021739130434782622,0.3695652173913044,-0.021739130434782622,0.7608695652173914,-0.021739130434782622],"y":[0.0,0.09782608695652174,-0.09782608695652174,0.29347826086956524,0.09782608695652174,0.1956521739130435,0.09782608695652174,0.0,-0.09782608695652174,0.0,-0.29347826086956524],"type":"scatter"}],                        {"hovermode":"closest","margin":{"b":20,"l":5,"r":5,"t":40},"paper_bgcolor":"rgba(0,0,0,0)","plot_bgcolor":"rgba(0,0,0,0)","showlegend":false,"title":{"font":{"size":16},"text":"DAG\u003cbr\u003e\u003cbr\u003e\u003csup\u003eBalanced: True\u003cbr\u003eEdge Status OK: True\u003c\u002fsup\u003e"},"xaxis":{"showgrid":false,"showticklabels":false,"zeroline":false},"yaxis":{"showgrid":false,"showticklabels":false,"zeroline":false},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">table_plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;sankey&#39;</span><span class="p">,</span> <span class="n">sankey_color_var</span><span class="o">=</span><span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="n">sankey_edge_colormap</span><span class="o">=</span><span class="s1">&#39;copper_r&#39;</span><span class="p">,</span> <span class="n">sankey_vmin</span><span class="o">=</span><span class="mi">52</span><span class="p">,</span>
                    <span class="n">sankey_vmax</span><span class="o">=</span><span class="mi">70</span><span class="p">)</span>
<span class="n">plotly</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</pre></div>
</div>
<html>
<head><meta charset="utf-8" /></head>
<body>
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>                <div id="5612d8ac-e14a-4d21-ad02-8406bebfdef7" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("5612d8ac-e14a-4d21-ad02-8406bebfdef7")) {                    Plotly.newPlot(                        "5612d8ac-e14a-4d21-ad02-8406bebfdef7",                        [{"cells":{"align":"left","fill":{"color":[["whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke","lightgray","whitesmoke"]]},"format":["%s",".0f",".0f",".1f",".2f",".2f",".2f"],"values":[["sample","undersize","oversize","rgr_uf","rgr_of","clr_of","clr_uf","scav_of","scav_uf","tailings","product"],[100.0,79.64389585471781,20.35610414528218,47.71815784814622,31.925738006571596,14.587099706991165,33.13105814115506,16.755734191985347,15.170003814586249,31.34283389897651,68.65716610102349],[100.0,79.64389585471781,20.35610414528218,47.71815784814622,31.925738006571596,14.587099706991165,33.13105814115506,16.755734191985347,15.170003814586249,31.34283389897651,68.65716610102349],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[60.09245000000001,59.3673229148502,62.92953246130641,60.73071198688127,57.32951834055266,57.856505026138244,61.9961814849051,56.824517776593325,57.88730694231751,57.30480941052712,61.36504193654063],[4.14753,4.517351001224347,2.7005937347802225,3.8031036695685123,5.58490868485737,5.29634872262749,3.145650642166255,5.861156563441478,5.279784435633087,5.598292384797022,3.485239272959659],[4.277159999999999,4.611700648150983,2.968259222604349,3.959171507285976,5.587010554468647,5.322554302986859,3.358894851618865,5.840116947026582,5.307446785874519,5.5992409012434985,3.6736139400342873]]},"columnwidth":[2,1,1,1,1,1,1],"domain":{"x":[0.0,0.36000000000000004],"y":[0.0,1.0]},"header":{"align":"center","fill":{"color":"cornflowerblue"},"font":{"color":"black","size":12},"values":["name","mass_wet","mass_dry","H2O","Fe","SiO2","Al2O3"]},"type":"table"},{"domain":{"x":[0.4600000000000001,1.0],"y":[0.0,1.0]},"link":{"color":["rgba(172, 109, 69, 255)","rgba(186, 117, 75, 255)","rgba(123, 78, 49, 255)","rgba(161, 102, 65, 255)","rgba(222, 140, 89, 255)","rgba(212, 134, 85, 255)","rgba(139, 88, 56, 255)","rgba(230, 146, 93, 255)","rgba(212, 134, 85, 255)","rgba(222, 140, 89, 255)","rgba(150, 95, 60, 255)"],"customdata":["\u003cbr \u002f\u003emass_wet: 100\u003cbr \u002f\u003emass_dry: 100\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 60.09\u003cbr \u002f\u003eSiO2: 4.15\u003cbr \u002f\u003eAl2O3: 4.28\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 80\u003cbr \u002f\u003emass_dry: 80\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 59.37\u003cbr \u002f\u003eSiO2: 4.52\u003cbr \u002f\u003eAl2O3: 4.61\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 20\u003cbr \u002f\u003emass_dry: 20\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 62.93\u003cbr \u002f\u003eSiO2: 2.70\u003cbr \u002f\u003eAl2O3: 2.97\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 48\u003cbr \u002f\u003emass_dry: 48\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 60.73\u003cbr \u002f\u003eSiO2: 3.80\u003cbr \u002f\u003eAl2O3: 3.96\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 32\u003cbr \u002f\u003emass_dry: 32\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 57.33\u003cbr \u002f\u003eSiO2: 5.58\u003cbr \u002f\u003eAl2O3: 5.59\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 15\u003cbr \u002f\u003emass_dry: 15\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 57.86\u003cbr \u002f\u003eSiO2: 5.30\u003cbr \u002f\u003eAl2O3: 5.32\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 33\u003cbr \u002f\u003emass_dry: 33\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 62.00\u003cbr \u002f\u003eSiO2: 3.15\u003cbr \u002f\u003eAl2O3: 3.36\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 17\u003cbr \u002f\u003emass_dry: 17\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 56.82\u003cbr \u002f\u003eSiO2: 5.86\u003cbr \u002f\u003eAl2O3: 5.84\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 15\u003cbr \u002f\u003emass_dry: 15\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 57.89\u003cbr \u002f\u003eSiO2: 5.28\u003cbr \u002f\u003eAl2O3: 5.31\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 31\u003cbr \u002f\u003emass_dry: 31\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 57.30\u003cbr \u002f\u003eSiO2: 5.60\u003cbr \u002f\u003eAl2O3: 5.60\u003cbr \u002f\u003e","\u003cbr \u002f\u003emass_wet: 69\u003cbr \u002f\u003emass_dry: 69\u003cbr \u002f\u003eH2O: 0.0\u003cbr \u002f\u003eFe: 61.37\u003cbr \u002f\u003eSiO2: 3.49\u003cbr \u002f\u003eAl2O3: 3.67\u003cbr \u002f\u003e"],"hovertemplate":"\u003cb\u003e\u003ci\u003e%{label}\u003c\u002fi\u003e\u003c\u002fb\u003e\u003cbr \u002f\u003eSource: %{source.customdata}\u003cbr \u002f\u003eTarget: %{target.customdata}\u003cbr \u002f\u003e%{customdata}","label":["sample","undersize","oversize","rgr_uf","rgr_of","clr_of","clr_uf","scav_of","scav_uf","tailings","product"],"source":[0,1,1,2,2,3,3,4,4,5,6],"target":[1,2,6,3,4,5,6,5,6,7,8],"value":[100.0,79.64389585471781,20.35610414528218,47.71815784814622,31.925738006571596,14.587099706991165,33.13105814115506,16.755734191985347,15.170003814586249,31.34283389897651,68.65716610102349]},"node":{"color":["blue","green","green","green","green","green","green","blue","blue"],"customdata":["feed","screen","rougher","cleaner","scavenger","overflow","joiner","reject","product"],"label":["feed","screen","rougher","cleaner","scavenger","overflow","joiner","reject","product"],"line":{"color":"black","width":0.5},"pad":15,"thickness":20},"type":"sankey"}],                        {"font":{"size":12},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"text":"DAG\u003cbr\u003e\u003csup\u003eBalanced: True, Edge Status OK: True\u003c\u002fsup\u003e"}},                        {"responsive": true}                    )                };                            </script>        </div>
</body>
</html><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  2.343 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-503-dag-with-partitions-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/b80f068df4da40c59c2c064431942d53/503_dag_with_partitions.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">503_dag_with_partitions.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/366a3e336ba455dd0faec8143745f6da/503_dag_with_partitions.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">503_dag_with_partitions.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="502_dag.html" class="btn btn-neutral float-left" title="DAG to Define and Simulate" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="504_dag_with_estimator.html" class="btn btn-neutral float-right" title="DAG with Estimator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Greg Elphick.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>